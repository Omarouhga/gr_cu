<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="welcome_template">
        <script>
            function togglePasswordVisibility() {
              var passwordField = document.getElementById("password");
              var visibilityButton = document.getElementById("visibility-button");
          
              if (passwordField.type === "password") {
                passwordField.type = "text";
                visibilityButton.textContent = "Hide";
              } else {
                passwordField.type = "password";
                visibilityButton.textContent = "Show";
              }
            }
            function Charger_solde(){}
          </script>        
          <t t-call="website.layout">
            <t t-set="res" t-value="records[0]"/>
            <div class="row">
                <div class="col-2">
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                        <a class="nav-link active" id="v-pills-informations-tab" data-toggle="pill" href="#v-pills-informations" role="tab" aria-controls="v-pills-informations" aria-selected="true">Mes informations</a>
                        <a class="nav-link" id="v-pills-solde-tab" data-toggle="pill" href="#v-pills-solde" role="tab" aria-controls="v-pills-solde" aria-selected="false">Mon solde</a>
                        <a class="nav-link" id="v-pills-reservation-tab" data-toggle="pill" href="#v-pills-reservation" role="tab" aria-controls="v-pills-reservation" aria-selected="false">R√©server</a>
                        <a class="nav-link" id="v-pills-mes-reservations-tab" data-toggle="pill" href="#v-pills-mes-reservations" role="tab" aria-controls="v-pills-mes-reservations" aria-selected="false">Mes r√©servations</a>
                    </div>
                </div>
                <div class="col-10">
                    <div class="tab-content" id="v-pills-tabContent">
                        <div class="tab-pane fade show active" id="v-pills-informations" role="tabpanel" aria-labelledby="v-pills-informations-tab">
                            <div class="card">
                                <div class="card-header">
                                    <center><h4>Mes informations</h4></center>
                                </div>
                                <div class="card-body">
                                    <form method="post" action="/espace_etudiant">
                                        <div class="form-group row">
                                            <label for="Name" class="col-sm-2 col-form-label">Name</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="name" t-att-value="res.name" readonly="true"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="last_name" class="col-sm-2 col-form-label">Last Name</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="last_name" t-att-value="res.last_name" readonly="true" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="gender" class="col-sm-2 col-form-label">Gender</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="gender" t-att-value="res.gender" readonly="true"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="code_massar" class="col-sm-2 col-form-label">Code Massar</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" name="code_massar" id="code_massar" t-att-value="res.code_massar" readonly="true"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="apogee" class="col-sm-2 col-form-label">Apogee</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="apogee" t-att-value="res.apogee" readonly="true"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="phone" class="col-sm-2 col-form-label">Phone</label>
                                            <div class="col-sm-10">
                                                <input type="text" name="phone" class="form-control" id="phone" t-att-value="res.phone" placeholder="Enter phone number"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="email" class="col-sm-2 col-form-label">Email</label>
                                            <div class="col-sm-10">
                                                <input type="email" class="form-control" id="email" name="email" t-att-value="res.email" placeholder="Enter email"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="password" class="col-sm-2 col-form-label">Password</label>
                                            <div class="col-sm-9">
                                                <input type="password" name="password" class="form-control" id="password" t-att-value="res.password" placeholder="Enter password"/>
                                            </div>
                                            <div class="col-sm-1">
                                                <button id="visibility-button" class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility()">üëÅÔ∏è</button>
                                            </div>
                                            <t t-if="error">
                                                <center><div class="text-danger" t-esc="error"></div></center>
                                              </t>
                                         
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-sm-10 offset-sm-2">
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                        <t t-if="message == '1'">
                                            <center><div class="alert alert-success mt-3">Vos informations sont actualis√©es avec succ√®s.</div></center>
                                        </t>
                                        <t t-if="message == '0'">
                                        <center><div  class="alert alert-danger mt-3">Vous n'avez effectu√© aucun changement</div></center>
                                        </t>
                                         
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="v-pills-solde" role="tabpanel" aria-labelledby="v-pills-solde-tab">
                            <div class="card">
                                <div class="card-header">
                                    <center><h4>Mon solde</h4></center>
                                </div>

                                <div class="card-body">
                                    <div class="form-group row">
                                        <label for="phone" class="col-sm-2 col-form-label">Solde</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="solde" t-att-value="res.solde"  readonly="true" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="Name" class="col-sm-2 col-form-label">Charger Solde</label>
                                        <div class="col-sm-10">
                                            <div class="col-sm-1">
                                                <button id="visibility-button" class="btn btn-outline-secondary" type="button" onclick="Charger_solde()">Charger</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="v-pills-reservation" role="tabpanel" aria-labelledby="v-pills-reservation-tab">
                            <div class="card">
                                <div class="card-header">
                                    <center><h4>R√©server</h4></center>
                                </div>
                                <div class="card-body">
                                    <!-- Content for R√©server tab -->
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="v-pills-mes-reservations" role="tabpanel" aria-labelledby="v-pills-mes-reservations-tab">
                            <div class="card">
                                <div class="card-header">
                                    <center><h4>Mes r√©servations</h4></center>
                                </div>
                                <div class="card-body">
                                    <table class="table-striped table">
                                        <thead style="font-size:18px;">
                                            <tr>
                                                <h6>
                                                    <b>
                                                        <th>Type</th>
                                                        <th>Date</th>
                
                                                    </b>
                                                </h6>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-foreach="reservations" t-as="order">
                                               <tr>
                                                    <td><span t-esc="order.type"></span></td>
                                                    <td><span t-esc="order.date_consommation"></span></td>
                                               </tr> 
                                            </t>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="success_message">
        <div class="alert alert-success">
            <button type="button" class="close" data-dismiss="alert">√ó</button>
            <strong><t t-esc="success_message"/></strong>
        </div>
    </template>
    
</odoo>